# Atlas 插件 - Paper 1.21 的世界热备份小能手

## 简介
嘿！欢迎体验 **Atlas**，一个为 Paper 1.21 服务器量身打造的超酷插件！它能让你像超级英雄一样，随时保存和恢复 Minecraft 世界的某个角落！无论是保护你的史诗级建筑、搞定活动区域，还是想“时光倒流”修复破坏，Atlas 都能轻松搞定！它会每天凌晨 4 点（亚洲/上海时区）偷偷帮你备份，还能让你用命令随心所欲地保存和加载方块。快来试试这个让服务器管理变得像玩游戏一样简单的小宝贝吧！

## 功能亮点
- **自动备份**：每天凌晨 4 点（上海时间），悄悄把主世界的改动存到备份世界，省心又省力！
- **手动存档/加载**：用 `/atlas` 命令，随时保存或恢复玩家周围的一块区域，范围随你定！
- **方块追踪**：像侦探一样记录每个方块的放置和破坏，精准到不行！
- **虚空世界**：自带一个空荡荡的备份世界（`BEEF-Atlas`），专门用来存你的宝贝数据！
- **性能超棒**：大范围操作也不卡，用异步任务分批处理，方块搬运稳如老狗！

## 安装步骤
1. **抓到插件**：从[发布页面](#)（替换成你的实际链接）下载 `Atlas.jar`，它可是个宝！
2. **丢进插件文件夹**：把 `Atlas.jar` 扔到服务器的 `plugins` 文件夹里，简单粗暴。
3. **重启服务器**：启动或重启服务器，Atlas 会蹦出来干活，顺便创建一个叫 `BEEF-Atlas` 的虚空世界。
4. **检查一下**：确认主世界是 `BEEF-DUNE`，如果不是，赶紧去 `Atlas.java` 改一下世界名字哦！

## 使用方法
### 命令
只有服务器 OP 能玩的超级命令：`/atlas`！它有两个小弟：
- `/atlas save <范围>`：把玩家周围的方块（一个立方体区域）存到备份世界 `BEEF-Atlas`。`<范围>` 是半径，比如 `10` 就是 21x21x21 的区域。
- `/atlas load <范围>`：从备份世界把方块拉回主世界，完美复原，范围同上！

**举个栗子**：
- `/atlas save 10`：保存玩家周围 21x21x21 的方块，稳稳的！
- `/atlas load 10`：把备份的方块加载回来，时光倒流的感觉真爽！

### 权限
- 默认只有 OP 能用 `/atlas` 命令，普通玩家就先看着吧！
- 想给其他人权限？可以用权限插件自己加，Atlas 不挑食。

### 自动备份
- 每天凌晨 4 点（上海时间），Atlas 会偷偷把主世界（`BEEF-DUNE`）的改动存到备份世界。
- 只存通过放置和破坏改动的方块，其他乱七八糟的（比如爆炸）就不管啦！

## 技术小秘密
### 插件结构
- **主类 (`Atlas.java`)**：插件的大脑，负责启动、注册事件、命令，还安排每天的备份任务。
- **事件监听 (`AtlasListener.java`)**：像个侦探，盯着主世界的方块放置和破坏，记录到 `HashSet` 里。
- **方块管理 (`BlocksManager.java`)**：掌管方块的存档和加载，批量处理超高效！
- **时钟 (`Clock.java`)**：每天凌晨 4 点触发自动备份，准时得像闹钟。
- **命令处理 (`CommandExecutor.java`)**：处理 `/atlas` 命令，简单又好用。
- **世界创建 (`CreateWorld.java`)**：搞出一个虚空世界 `BEEF-Atlas`，专门存备份数据。

### 核心机制
- **方块追踪**：用 `HashSet<Location>` 记录主世界改动的方块位置，精准又省空间。
- **自动备份**：把主世界的方块状态复制到备份世界，凌晨 4 点准时开工。
- **手动存档/加载**：用 `BlockState.copy()` 搬运方块，连方块的详细信息（比如箱子里的东西）都不放过。
- **性能优化**：加载大范围方块时，每 tick 处理 64 个，稳稳不卡服！

## 配置说明
- **主世界**：默认是 `BEEF-DUNE`，在 `Atlas.java` 里改成你的世界名。
- **备份世界**：默认是 `BEEF-Atlas`，启动时自动创建的虚空世界。
- **自动备份时间**：默认凌晨 4 点（上海时间），想改时间或时区？去 `Clock.java` 调整 `ZonedDateTime`。

## 小缺点
- 默认假设主世界是 `BEEF-DUNE`，如果不是，得手动改 `Atlas.java`。
- 自动备份只管放置和破坏的方块，爆炸、活塞啥的不在它管辖范围。
- 用 `/atlas save` 或 `/atlas load` 处理超大范围（比如 >50）可能会有点压力，悠着点用！

## 贡献代码
喜欢 Atlas？想让它更牛？来提交 issue 或 PR 吧！大改动前先开个 issue 聊聊，免得白忙活哦！

## 许可证
本项目用 GPLv3 许可证，自由又大方！详情看 [LICENSE](https://github.com/superwfox/Atlas/blob/master/license.txt) 文件（替换成你的实际许可证文件）。
